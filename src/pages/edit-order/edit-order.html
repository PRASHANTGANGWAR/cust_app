<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle start>
      <ion-icon name="md-menu"></ion-icon>
    </button>
    <ion-title text-uppercase>Edit Order</ion-title>
  </ion-navbar>
</ion-header>

<!-- Order packages -->
<ion-content>
  <ion-list class="cart-list" padding>
    <ion-item class="w-bg-box" no-lines  *ngFor="let package of order.order_packages">
      <ion-thumbnail item-start>
    <img src="{{product_image[package.product_id]}}">
      </ion-thumbnail>
      <p color="dark" *ngIf="!order.recurring">
       {{package.product.category.name}}<br>
       {{order.delivery_date | date:'dd/MM/yyyy'}}<br>
       Quantity : {{package.default_quantity}}
       </p>
      <div *ngIf="order.recurring">
      <p *ngFor="let day of package.weekdays_qty">{{day}}</p>
      </div>
      <ion-col col-6 text-left>
      <button *ngIf="order.recurring"  (click)="orderChoice(package)" ion-button  round color="primary" text-uppercase no-margin>
        Update
      </button>
    </ion-col>

      </ion-item>
    </ion-list>



<!-- cancel order -->
  <ion-list  class="cart-list">
    <ion-item class="n-box" no-lines>
      <ion-thumbnail class="mb--2" item-start><img src="assets/img/cancel-icon.png"></ion-thumbnail>
      <h4 color="dark">Cancel order</h4>
      <ion-grid no-padding>
        <ion-row>
          <ion-col text-left col-6>
            <button (click)="cancelOrder(order.id)" ion-button  round color="primary" text-uppercase no-margin>Cancel</button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-list>

<!-- if recurring then dnd and duration -->
    <ion-list *ngIf="order.recurring" class="cart-list">
    <ion-item class="n-box" no-lines>
      <ion-thumbnail class="mb--2" item-start><img src="assets/img/set-non-availability.png"></ion-thumbnail>
      <h4 color="dark">Set non availability</h4>
      <ion-grid no-padding>
        <ion-row>
          <ion-col text-left col-6>
            <button (click)="nonAvialability(order.id)" ion-button  round color="primary" text-uppercase no-margin>Update</button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item class="n-box" no-lines>
      <ion-thumbnail class="mb--2" item-start><img src="assets/img/edit-order-duration.png"></ion-thumbnail>
      <h4 color="dark">Edit order for a duration</h4>
      <ion-grid no-padding>
        <ion-row>
          <ion-col text-left col-6>
            <button (click)="editOrderDuration(order.id)" ion-button  round color="primary" text-uppercase no-margin>Update</button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    </ion-list>
     <!-- back button -->

     <ion-card-content>
      <button color="secondary" ion-button (click)="back()" round block>Back </button>    
    </ion-card-content>
   


</ion-content>
